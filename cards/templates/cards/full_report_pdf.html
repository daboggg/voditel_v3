<!doctype html>
{% load static %}
{% load card_filters %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <title>Полный отчет</title>
    <style>
        table {
            font-size: 0.7rem;
        }
    </style>
</head>
<body>
<div class="container">
    <h1 class=" text-center my-5">Отчет {{ card }}</h1>
    <table class="table table-bordered border-black align-middle">
        <tr class="text-center" border="2">
            <td rowspan="2">Автомобиль Марка</td>
            <td rowspan="2">Номер</td>
            <td rowspan="2">Вид ГСМ</td>
            <td rowspan="2">Пробег</td>
            <td rowspan="2">Норма расхода</td>
            <td rowspan="2">Общий расход</td>
            <td colspan="2">Работа верхнего оборудования</td>
            <td colspan="2">Норма расхода</td>
            <td colspan="2">Расход топлива</td>
            <td colspan="2">Показание спидометра</td>
            <td rowspan="2">Остаток ГСМ на начало месяца в баках</td>
            <td rowspan="2">Приход ГСМ</td>
            <td rowspan="2">Расход ГСМ</td>
            <td rowspan="2">Остаток ГСМ на конец месяца в баках</td>
        </tr>
        <tr>
            <td>с нас. мин</td>
            <td>без нас.</td>
            <td>с нас. мин</td>
            <td>без нас.</td>
            <td>с нас. мин</td>
            <td>без нас.</td>
            <td>на нач мес.</td>
            <td>на кон. мес.</td>
        </tr>
        <tr>
            <td>{{ card.truck.full_name }}</td>
            <td>{{ card.truck.number }}</td>
            <td>д/т</td>
            <td>{{ total_distance }}</td>
            <td>{{ card.norm.liter_per_km }}</td>
            <td>{{ total_mileage_consumption.normalize }}</td>
            <td>{{ total_time_with_pump }}</td>
            <td>{{ total_time_without_pump }}</td>
            <td>{{ card.norm.work_with_pump_liter_per_min.normalize  }}</td>
            <td>{{ card.norm.work_without_pump_liter_per_min.normalize  }}</td>
            <td>{{ total_with_pump_consumption|round3  }}</td>
            <td>{{ total_without_pump_consumption|round3  }}</td>
            <td>{{ card.mileage }}</td>
            <td>{{ current_mileage }}</td>
            <td>{{ card.remaining_fuel.normalize }}</td>
            <td>{{ total_refueled }}</td>
            <td>{{ total_fuel_consumption.normalize }}</td>
            <td>{{ remaining_fuel.normalize }}</td>
        </tr>
    </table>
</div>
</body>
</html>